"use strict";!function(E,M,O,V,B){E(function(){var o="active",i="show",t="mobile-open",a="invalid",n=E("html"),e=E(document),s=E(B),r=E(".page"),l=function(e){return void 0!==e&&e.length};new M(".js-slider",{slidesPerView:"auto",navigation:{nextEl:".js-next",prevEl:".js-prev"}}),new M(".js-slider-big",{slidesPerView:"auto",navigation:{nextEl:".js-next",prevEl:".js-prev"},on:{init:function(){this.$currentSlideNumber=this.$el.find(".js-slide-current")},slideChange:function(){this.$currentSlideNumber.text(this.realIndex+1)}}});var c=E(".js-tab"),d=E(".soc-hidden");c.on("click",function(e){var t=E(e.target),n=E(t.data("target"));c.removeClass(o),d.hide(),n.show(),t.addClass(o)}),E.widget("app.selectmenu",E.ui.selectmenu,{_drawButton:function(){this._super();var e=this.element.find("[selected]").length,t=this.options.placeholder;!e&&t&&this.buttonItem.text(t)}});var u=E(".js-select");u.each(function(e,t){var n=E(t);n.selectmenu({placeholder:n.data("placeholder")})}),u.length&&r.on("scroll",function(){u.selectmenu("close")}),E.datepicker.regional.ru={closeText:"Закрыть",monthNames:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],monthNamesShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],dayNamesShort:["пн","вт","ср","чт","пт","сб","вс"],dayNamesMin:["пн","вт","ср","чт","пт","сб","вс"],dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},E.datepicker.setDefaults(E.datepicker.regional.ru);var h=E(".js-calendar");h.length&&h.datepicker({}),new O("Tooltip",{attach:".js-info",onOpen:function(){this.setContent(this.source.html())}}),E(".js-accordion").on("click",function(e){var t=E(e.currentTarget).parent(),n=t.hasClass(o);t.toggleClass(o,!n).find(".accordion-hidden").slideToggle(n)});var f=E(".menu-section .menu-hidden"),m=new M(".js-mobile-menu",{slidesPerView:"auto",on:{init:function(){var a=this.slides;a.each(function(e,t){var n=E(t);if(n.is("button")){var s=E(n.data("target"));n.on("click",function(){a.removeClass(o),f.removeClass(i),n.addClass(o),s.addClass(i)})}})}}});E(".js-mobile").on("click",function(){var e=n.hasClass(t);n.toggleClass(t,!e),e||m.slides.each(function(e,t){E(t).hasClass(o)&&m.slideTo(e)})}),s.resize(function(e){1024<e.currentTarget.innerWidth&&n.removeClass(t)}),E(".js-scrollbar").each(function(e,t){new V(t,{autoHide:!1})});var v=".js-file",p=function(e){var t=e.find(v);l(t)&&t.jfilestyle({text:"Выбрать...",placeholder:"Файл не выбран",dragdrop:!1})};p(e);var g=function(e){var t=e.find("input"),n=e.find("textarea"),s=function(e){var t=E(e.currentTarget).parent();t.removeClass(a),t.parent().removeClass(a)};t.on("focus change",s),n.on("focus change",s)};g(e);var C=new O("Modal",{attach:".js-popup",onOpen:function(){var e=this.source,t=E(e.data("target")),n=t.find(v);l(n)&&n.jfilestyle("destroy");var s=t.html();t.html(""),this.setContent(s),p(this.content),g(this.content);var a=B.grecaptcha,o=this.content.find(".g-recaptcha");l(o)&&void 0!==a&&a.hasOwnProperty("render")&&(o.html(""),a.render(o[0]))},onCloseComplete:function(){var e=this.source,t=E(e.data("target")),n=this.content.find(v);l(n)&&n.jfilestyle("destroy"),this.content.find(".ok").removeClass("ok");var s=this.content.html();this.setContent(""),t.html(s)}});e.on("closeModal",C.close.bind(C));var j=E(".js-menu"),w=E(".js-menu > ul > li > a, .js-menu > ul > li > button"),y=E(".js-menu-section");w.on("mouseover",function(e){var t=E(e.currentTarget);w.removeClass(o),t.addClass(o),y.html(t.parent().find(".menu-hidden").html()),y.addClass("show"),y.stop().animate({opacity:1},300)}),e.on("mouseover",function(e){var t=E(e.target),n=j.find(t);n.length&&n.parent().find(".menu-hidden").length||y.find(t).length||y.stop().animate({opacity:0},300,function(){w.removeClass(o),y.removeClass("show"),y.html("")})}),E(".js-search").on("click",function(e){var t=E(e.target),n=t.hasClass(o);t.parent().toggleClass(o),n||t.parent().find("input").focus()});var b="header-wrap--fixed-scroll-top",x="header-wrap--fixed-scroll-bottom",T=E(".js-float"),k=E(".header-back"),S=k.offset().top,N=0;r.scroll(function(e){var t=k.offset().top,n=e.currentTarget.scrollTop;t+S<n?n<N?200+t<N-n&&(T.removeClass(x),T.addClass(b),N=n):(T.hasClass(b)&&(T.removeClass(b),T.addClass(x)),N=n):T.removeClass(b+" "+x)});var P=E(".history > section[hidden]");new M(".js-history",{slidesPerView:"auto",on:{init:function(){var n=this,s=this.slides;s.each(function(e,t){E(t).hasClass(o)&&n.slideTo(e)}),s.on("click",function(e){var t=E(e.currentTarget),n=E(t.data("target"));s.removeClass(o),P.removeClass(i),t.addClass(o),n.addClass(i)})}}}),E(".js-sumo").each(function(e,t){var n=E(t);n.SumoSelect({placeholder:n.data("placeholder")}),n.on("sumo:closing",function(e){var t=!!e.currentTarget.selectedOptions.length;n.toggleClass("selected",t)})})})}(jQuery,Swiper,jBox,SimpleBar,window);