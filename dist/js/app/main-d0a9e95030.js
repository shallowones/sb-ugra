"use strict";!function(S,N,E,B){S(function(){var a="active",i="show",t="mobile-open",n="invalid",s=S("html"),e=S(document),o=S(window),r=S(".page"),l=function(e){return void 0!==e&&e.length};new N(".js-slider",{slidesPerView:"auto",navigation:{nextEl:".js-next",prevEl:".js-prev"}}),new N(".js-slider-big",{slidesPerView:"auto",navigation:{nextEl:".js-next",prevEl:".js-prev"},on:{init:function(){this.$currentSlideNumber=this.$el.find(".js-slide-current")},slideChange:function(){this.$currentSlideNumber.text(this.realIndex+1)}}});var d=S(".js-tab"),c=S(".soc-hidden");d.on("click",function(e){var t=S(e.target),n=S(t.data("target"));d.removeClass(a),c.hide(),n.show(),t.addClass(a)}),S.widget("app.selectmenu",S.ui.selectmenu,{_drawButton:function(){this._super();var e=this.element.find("[selected]").length,t=this.options.placeholder;!e&&t&&this.buttonItem.text(t)}}),S(".js-select").each(function(e,t){var n=S(t);n.selectmenu({placeholder:n.data("placeholder"),disabled:!0})}),S.datepicker.regional.ru={closeText:"Закрыть",monthNames:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],monthNamesShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],dayNamesShort:["пн","вт","ср","чт","пт","сб","вс"],dayNamesMin:["пн","вт","ср","чт","пт","сб","вс"],dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},S.datepicker.setDefaults(S.datepicker.regional.ru);var u=S(".js-calendar");u.length&&u.datepicker({disabled:!0}),new E("Tooltip",{attach:".js-info",onOpen:function(){this.setContent(this.source.html())}}),S(".js-accordion").on("click",function(e){var t=S(e.currentTarget).parent(),n=t.hasClass(a);t.toggleClass(a,!n).find(".accordion-hidden").slideToggle(n)}),S(".js-mobile").on("click",function(){s.toggleClass(t)});var h=S(".mobile .menu > ul > li > button"),f=S(".mobile .menu-section > .menu-hidden");h.on("click",function(e){e.preventDefault();var t=S(e.currentTarget),n=S(t.data("target"));h.removeClass(a),t.addClass(a),f.removeClass(a),n.addClass(a)}),o.resize(function(e){1024<e.currentTarget.innerWidth&&s.removeClass(t)}),S(".js-scrollbar").each(function(e,t){new B(t,{autoHide:!1})});var m=".js-file",v=function(e){var t=e.find(m);l(t)&&t.jfilestyle({text:"Выбрать...",placeholder:"Файл не выбран",dragdrop:!1,onChange:function(e){e}})};v(e);var p=function(e){e.find("input").on("focus change",function(e){var t=S(e.currentTarget).parent();t.removeClass(n),t.parent().removeClass(n)})};p(e),new E("Modal",{attach:".js-popup",onOpen:function(){var e=this.source,t=S(e.data("target")),n=t.find(m);l(n)&&n.jfilestyle("destroy");var s=t.html();t.html(""),this.setContent(s),v(this.content),p(this.content)},onCloseComplete:function(){var e=this.source,t=S(e.data("target")),n=this.content.find(m);l(n)&&n.jfilestyle("destroy"),this.content.find(m).jfilestyle("destroy");var s=this.content.html();this.setContent(""),t.html(s)}});var g=S(".js-menu"),C=S(".js-menu > ul > li > a, .js-menu > ul > li > button"),j=S(".js-menu-section");C.on("mouseover",function(e){var t=S(e.currentTarget);C.removeClass(a),t.addClass(a),j.html(t.parent().find(".menu-hidden").html()),j.addClass("show"),j.stop().animate({opacity:1},300)}),e.on("mouseover",function(e){var t=S(e.target),n=g.find(t);n.length&&n.parent().find(".menu-hidden").length||j.find(t).length||j.stop().animate({opacity:0},300,function(){C.removeClass(a),j.removeClass("show"),j.html("")})}),S(".js-search").on("click",function(e){var t=S(e.target),n=t.hasClass(a);t.parent().toggleClass(a),n||t.parent().find("input").focus()});var w="header-wrap--fixed-scroll-top",y="header-wrap--fixed-scroll-bottom",b=S(".js-float"),x=S(".header"),T=0;r.scroll(function(e){var t=x.offset().top,n=e.currentTarget.scrollTop;t<n?n<T?200+t<T-n&&(b.removeClass(y),b.addClass(w),T=n):(b.hasClass(w)&&(b.removeClass(w),b.addClass(y)),T=n):b.removeClass(w+" "+y)});var k=S(".history > section[hidden]");new N(".js-history",{slidesPerView:"auto",on:{init:function(){var n=this,s=this.slides;s.each(function(e,t){S(t).hasClass(a)&&n.slideTo(e)}),s.on("click",function(e){var t=S(e.currentTarget),n=S(t.data("target"));s.removeClass(a),k.removeClass(i),t.addClass(a),n.addClass(i)})}}})})}(jQuery,Swiper,jBox,SimpleBar);